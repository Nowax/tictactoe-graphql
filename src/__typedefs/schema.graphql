# source: http://localhost:3000/graphql
# timestamp: Wed May 06 2020 19:30:16 GMT+0200 (Central European Summer Time)

type Game {
  id: ID
  type: GameType!
  timestamp: String
  playerOneID: ID
  playerTwoID: ID
  status: GameStatus
  latestMovePlayerID: ID
  state: String
}

enum GameStatus {
  NEW
  STARTED
  FINISHED
}

enum GameType {
  SINGLEPLAYER
  MULTIPLAYER
}

""" input to create a new game """
input InputCreateGame {
  type: GameType!
}

""" input to join the existing game"""
input InputJoinGame {
  gameID: ID!
}

type Mutation {
  _empty: String

  """ create a new game """
  createGame(input: InputCreateGame!): Game

  """ join the existing game """
  joinGame(input: InputJoinGame!): PlayerToken
}

type PlayerToken {
  id: ID
}

type Query {
  _empty: String

  """ get all games """
  getGames: [Game]
}

type Subscription {
  _empty: String

  """ called when a new move noticed in game """
  gameStateRefreshed: Game
}
